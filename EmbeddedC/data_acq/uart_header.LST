C51 COMPILER V9.50a   UART_HEADER                                                          01/12/2023 09:58:40 PAGE 1   


C51 COMPILER V9.50a, COMPILATION OF MODULE UART_HEADER
OBJECT MODULE PLACED IN uart_header.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE uart_header.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include<reg51.h>
   2          #include"lcd_header.c"
   3          void uart_init(void);
   4          void uart_tx(unsigned char);
   5          //unsigned char uart_rx(void);  
   6          void uart_init(void)
   7          {
   8   1        //PCON=0x80;//doubling the baud rate
   9   1        SCON = 0x50;//mode 1 REN enable
  10   1        TMOD = 0x20;//timer 1 mode 2
  11   1        TH1 = TL1 = 253;//setting baud rate
  12   1        TR1 = 1;//start timer 1
  13   1      }
  14          void uart_tx(unsigned char d)
  15          {
  16   1        SBUF = d;
  17   1        while(TI == 0);//polling
  18   1        TI = 0;
  19   1      }
  20          /*
  21          unsigned char uart_rx(void)
  22          {
  23            while(RI == 0);//polling RI FLag
  24            RI = 0;//clear RI Flag
  25            return SBUF;//stored
  26          }
  27          */
  28          void uart_str(unsigned char *d)
  29          {
  30   1        while(*d)
  31   1        uart_tx(*d++);
  32   1      }
  33          void uart_int(int n)
  34          {
  35   1      signed char arr[5],i=0;
  36   1        if(n==0)
  37   1          uart_tx('0');
  38   1        else
  39   1        {
  40   2         if(n<0)
  41   2         {
  42   3           uart_tx('-');
  43   3           n=-n;
  44   3         }
  45   2         while(n>0)
  46   2         {
  47   3          arr[i++]=(n%10)+48;
  48   3           n/=10;
  49   3         }
  50   2         for(--i;i>=0;i--)
  51   2         uart_tx(arr[i]);
  52   2        }
  53   1      }
  54          void uart_float(float f)
  55          {
C51 COMPILER V9.50a   UART_HEADER                                                          01/12/2023 09:58:40 PAGE 2   

  56   1      int i=f;
  57   1        uart_int(i);
  58   1        uart_tx('.');
  59   1        i=(f-i)*100;
  60   1        uart_int(i);
  61   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    576    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      28
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
